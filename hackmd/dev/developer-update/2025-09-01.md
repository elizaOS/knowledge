# ElizaOS Developer Update
*Week of August 25 to September 1, 2025*

## 1. Core Framework

This week, the ElizaOS core team implemented critical fixes to stabilize the framework after encountering significant CLI functionality issues:

- **CLI Emergency Stabilization**: A major regression in the CLI's module resolution and environment handling was identified, particularly affecting monorepo vs. non-monorepo environments. After multiple unsuccessful attempts, the team reverted to a stable version, effectively using 1.4.5 code but releasing it as 1.5.5 ([PR #5852](https://github.com/elizaOS/eliza/pull/5852)).

- **CLI Architectural Issues**: The team determined that the CLI has become "overly complex" and is "doing too much." A v3 redesign has been proposed to simplify its responsibilities, with plans to model it after the NestJS CLI architecture ([Source](https://github.com/nestjs/nest-cli)).

- **TypeScript Declaration Fix**: A critical issue in the npm package's TypeScript declarations was resolved ([PR #5848](https://github.com/elizaOS/eliza/pull/5848)), addressing a problem where exported types incorrectly referenced source files not included in the published package.

- **Build System Improvements**: The codebase was optimized with the removal of the src directory ([PR #5848](https://github.com/elizaOS/eliza/pull/5848)), and several PRs were opened to address Ubuntu/macOS CLI test failures ([PR #5854](https://github.com/elizaOS/eliza/pull/5854), [PR #5855](https://github.com/elizaOS/eliza/pull/5855)).

## 2. New Features

### Dynamic Prompting for Multi-Turn Conversations
A significant new feature initiative was launched to enable sophisticated, multi-turn conversation simulations:

```typescript
// Example scenario with dynamic prompting
const scenario = {
  name: "Product Inquiry",
  initialState: {
    customer: {
      name: "Alex",
      preferences: ["eco-friendly", "budget-conscious"]
    },
    product: {
      id: "eco-101",
      name: "EcoClean Dishwasher",
      price: "$499"
    }
  },
  turns: [
    {
      role: "user",
      content: "Hi, I'm {{customer.name}} and I'm looking for information about the {{product.name}}.",
      expectedActions: ["LOOKUP_PRODUCT_DETAILS"]
    },
    {
      role: "user",
      content: "Is this product {{customer.preferences[0]}}?",
      expectedResponse: {
        contains: ["eco-friendly", "environmentally conscious"]
      }
    }
  ]
};
```

This feature will significantly enhance agent testing capabilities and adaptability.

### Playwright MCP Integration
Development has begun on integrating Playwright with ElizaOS agents to enable automated browser testing and interaction:

```typescript
// Example of the planned Playwright MCP integration
import { createMcpHandler } from '@elizaos/playwright-mcp';

const playwrightHandler = createMcpHandler({
  headless: process.env.NODE_ENV === 'production',
  defaultViewport: { width: 1280, height: 720 }
});

agent.registerAction('BROWSE_WEB', playwrightHandler.actions.navigate);
agent.registerAction('TAKE_SCREENSHOT', playwrightHandler.actions.screenshot);
agent.registerAction('CLICK_ELEMENT', playwrightHandler.actions.click);
```

## 3. Bug Fixes

Several critical bugs were resolved this week:

- **CLI Path Resolution**: Fixed a path resolution issue in the CLI's NPM deployment ([PR #5852](https://github.com/elizaOS/eliza/pull/5852)) that was causing fresh installations to fail.

- **Browser Build Exports**: Improved browser build exports and type definitions ([PR #5832](https://github.com/elizaOS/eliza/pull/5832)), ensuring better compatibility across different environments.

- **Logger Parameter Order**: Corrected parameter order in `logger.error` which was causing incorrect error logging ([PR #5833](https://github.com/elizaOS/eliza/pull/5833)).

- **Action Result Handling**: The `GENERATE_IMAGE` handler was updated to return a proper `ActionResult` ([PR #5823](https://github.com/elizaOS/eliza/pull/5823)), fixing inconsistent behavior in image generation.

- **CSS Syntax Errors**: Resolved build warnings and CSS syntax errors that were affecting the UI ([PR #5851](https://github.com/elizaOS/eliza/pull/5851)).

## 4. API Changes

### Core Runtime Event Emission
The core runtime now includes itself in all emitted events, providing better context for event handlers:

```typescript
// Before
agent.on('messageCreated', (message) => {
  // No runtime context available
  console.log(message);
});

// After
agent.on('messageCreated', (message, runtime) => {
  // Runtime context now available
  console.log(`Message created in runtime ${runtime.id}:`, message);
});
```

### Initialization Promise
A new `initPromise` has been added to the runtime to allow better asynchronous handling of initialization:

```typescript
// New initialization pattern
const agent = createAgent(config);

// Wait for agent to fully initialize before use
await agent.runtime.initPromise;

// Now safe to use agent actions
const result = await agent.runAction('SOME_ACTION', params);
```

## 5. Social Media Integrations

### X/Twitter Legal Situation
ElizaOS is currently in a legal dispute with X Corp (formerly Twitter) regarding API access:

- ElizaOS accounts were suspended and X reportedly attempted to charge approximately $600,000 for Enterprise API access.
- A lawsuit has been filed against X Corp, with media coverage including an upcoming New York Times interview.
- The community has been advised to use alternative channels such as Substack, YouTube, Farcaster, and LinkedIn to follow ElizaOS news.

### Twitter API Limitations
Developers continue to face challenges with the Twitter API:

- Users are struggling to access the text of tweets that an agent was mentioned in replies to.
- There are ongoing efforts to develop workarounds for these limitations.
- Requests for capability to respond to retweets and direct messages have been noted.

## 6. Model Provider Updates

### OpenAI Model Configuration
Users experiencing model issues are advised to specify `gpt-4o-mini` as their small model:

```typescript
// Recommended configuration
process.env.OPENAI_SMALL_MODEL = "gpt-4o-mini";
```

### Anthropic Claude
Anthropic's Sonnet 4 model is now rolling out with 1 million context length capability, offering significantly expanded memory for complex tasks.

### Gemini
Gemini (referred to as "Nano Banana" in the community) is recommended as a free option for image editing and creation tasks.

## 7. Breaking Changes

### V1 to V2 Migration Issues

⚠️ **Critical TypeScript Imports Issue**: The v1.5.0 release contained a severe regression where exported types incorrectly referenced source files not included in the published package. This has been fixed in v1.5.2, but users who updated to v1.5.0 must update again.

⚠️ **CLI Installation Fix**: Users experiencing CLI issues must reinstall with:

```bash
bun i -g @elizaos/cli@1.5.5
```

⚠️ **Knowledge Base Changes**: There are reported issues with Eliza not referencing files placed in the /docs directory. Users should verify their knowledge base configuration until this is resolved.

⚠️ **Custom Plugin Development**: Changes to how Eliza is called from custom plugins may affect existing implementations. Character files can now override most prompts using the prompt object, which may require updates to custom plugins.