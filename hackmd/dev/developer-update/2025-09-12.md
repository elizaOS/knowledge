# Developer Update - September 12, 2025

## Core Framework

We've made significant architectural changes to the ElizaOS framework this week, focusing on reducing redundancy and improving modularity:

- The AgentManager is being merged into AgentServer to streamline the codebase and eliminate wrapper classes. PR [#5864](https://github.com/elizaOS/eliza/pull/5864) is under review with minor unit tests pending.
- The team is planning a comprehensive rooms/channels/servers/worlds refactor (Issue [#5965](https://github.com/elizaOS/eliza/issues/5965)) to reduce abstractions from 4 concepts to 2.
- Significant progress on browser compatibility for AgentRuntime, requiring ~10k lines of refactoring to create BrowserDatabaseAdapter using IndexedDB/localStorage and handle filesystem operations.
- SECRET_SALT reads are now cache-aware to fix testing flakiness in PR [#5968](https://github.com/elizaOS/eliza/pull/5968).

## New Features

### SDK-first Hooks Mode
A new SDK-first approach to hooks is in development (Issue [#5966](https://github.com/elizaOS/eliza/issues/5966)), which will provide a cleaner interface for developers:

```typescript
// New SDK-first approach
import { useAgent } from '@elizaos/react';

function MyComponent() {
  const { messages, sendMessage } = useAgent('agentId');
  
  return (
    <div>
      {messages.map(msg => <div>{msg.content}</div>)}
      <button onClick={() => sendMessage("Hello")}>Send</button>
    </div>
  );
}
```

### Browser Database Integration
Browser DB integration is close to completion, enabling full client-side storage:

```typescript
// Accessing persistent storage via BrowserDatabaseAdapter
const db = runtime.adapter.getDatabase();
await db.set('userPreferences', { theme: 'dark' });
const prefs = await db.get('userPreferences');
```

### Confidential Computing Enhancements
Agent Joshua demonstrated a VSCode server in CVM (Confidential Virtual Machine) with flox and Claude code integration, eliminating the need for TEE Simulator. This provides a more secure development environment for sensitive operations.

## Bug Fixes

- Fixed a critical issue preventing image generation in Discord channels (PR [#5861](https://github.com/elizaOS/eliza/pull/5861)).
- Resolved excessive SECRET_SALT error logging with a caching mechanism (PR [#5968](https://github.com/elizaOS/eliza/pull/5968)).
- Fixed an issue where user requests for image generation were incorrectly using agent profile instead of user input for prompts.
- Added SERVER_HOST support to the dev command for improved local development experience.
- Fixed browser-specific Sentry integration to prevent incompatible node modules from being included in browser builds.

## API Changes

- Agents panels API has been enhanced to expose panels under agent-scoped paths: `/api/agents/{agentId}/plugins/...`
- New backend for tracking agent runs has been implemented across server/core/bootstrap/api-client packages.
- Logger API improved to capture all logs, including namespaced agent logs.

Here's an example of the new runs tracking API:

```typescript
// Tracking agent runs
import { trackAgentRun } from '@elizaos/api-client';

const runData = await trackAgentRun({
  agentId: 'my-agent',
  runType: 'conversation',
  metadata: {
    userId: 'user-123',
    sessionId: 'session-456'
  }
});

// Later, update the run status
await updateAgentRun(runData.runId, {
  status: 'completed',
  outputs: {
    summary: 'Task completed successfully'
  }
});
```

## Social Media Integrations

- Bug fixed in Telegram plugin where sending screenshots would result in 400 errors from OpenAI's API. The correct workflow for processing images now properly downloads the file and converts it to base64 before sending to OpenAI.
- USDC tipping on Solana via x402 has been implemented, extending existing Base functionality to support any SPL token.

## Model Provider Updates

- The nvidia/nemotron-nano-9b-v2 model is moving to nvidia/nemotron-nano-9b-v2:free, with DeepInfra becoming a paid provider. Update your applications accordingly.
- CoopaASI, a new Web3 AI Assistant focused on data sovereignty, has been introduced. It uses Arweave permaweb for storage, Polygon network for transactions, MetaMask for Web3 identity, and Google's Gemini models for vector embeddings.

## Breaking Changes

As we prepare for the V2 migration, several major architectural changes are in progress:

- Sentry is being removed from core and added to the server package instead. This change requires updating any direct Sentry references in your code.
- The ElizaOS CLI is being refactored to delegate runtime logic to project directories, reducing complexity and separating concerns.
- Server/channel/world/room abstractions are being consolidated from 4 concepts to 2 for improved simplicity.

When migrating from V1 to V2, you'll need to update your project structure to accommodate these changes. A detailed migration guide will be provided before the official V2 release.

For development teams looking ahead, we recommend:
- Implementing analytics for your ElizaOS applications
- Building a SaaS credits system if you're planning commercial deployments
- Creating feedback systems to track user satisfaction