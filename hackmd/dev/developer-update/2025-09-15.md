# ElizaOS Developer Update
**Week of September 8 - September 15, 2025**

## 1. Core Framework

### Agent Runtime Architecture
- **Runtime Events Refactoring**: Implemented a comprehensive backend for tracking agent runs in both server and core packages. This adds structured logging and creates a more consistent event emission pipeline. [PR #5953](https://github.com/elizaOS/eliza/pull/5953)
- **SECRET_SALT Handling**: Fixed core test failures by making SECRET_SALT reads cache-aware, properly reflecting environment changes during tests. [PR #5968](https://github.com/elizaOS/eliza/pull/5968)
- **Logging System Enhancements**: Resolved the `LOG_JSON_FORMAT` environment variable not working correctly and improved logger API to capture all logs including namespaced agent logs. [PR #5885](https://github.com/elizaOS/eliza/pull/5885), [PR #5900](https://github.com/elizaOS/eliza/pull/5900)

### Plugin System
- **Agent Panels Fix**: Resolved an issue with agent panels not loading properly by exposing public agent plugin panels under agent-scoped paths (`/api/agents/{agentId}/plugins/*`). [PR #5901](https://github.com/elizaOS/eliza/pull/5901)
- **Knowledge Plugin Update**: Merged a PR to fix panel loading issues in the knowledge plugin. [PR #39](https://github.com/elizaos-plugins/plugin-knowledge/pull/39)
- **Registry Enhancements**: Fixed a bug in the npm package field construction for registry entries to ensure correct package naming during plugin publishing. [PR #5882](https://github.com/elizaOS/eliza/pull/5882)

## 2. New Features

### Browser Compatibility
- **Browser-side Database Support**: Added a browser build with PGlite WASM support for `@elizaos/plugin-sql`, enabling SQL functionality directly in browser environments. Implementation includes:

```typescript
// Usage in browser environment:
import sqlPlugin from '@elizaos/plugin-sql'; // Automatically loads browser version

const character = {
  name: 'SQLAgent',
  plugins: [sqlPlugin],
  settings: {
    DATABASE_URL: 'pglite://localhost/mydb'
  }
};
```

The plugin now features conditional exports in `package.json` that automatically route browser imports to the PGlite implementation. [PR #5970](https://github.com/elizaOS/eliza/pull/5970)

### User Experience Improvements
- **Enhanced Chat UI**: Implemented real-time display of action execution and results in the chat UI, allowing users to see tool actions as they happen:

```typescript
// Updated event emission pattern in runtime.ts
this.emit('action', {
  type: 'action_called',
  name: actionName,
  args,
  conversationId
});

// After action completes
this.emit('action', {
  type: 'action_result',
  name: actionName,
  result,
  conversationId
});
```

This creates a more transparent interaction model for users monitoring agent activities. [PR #5865](https://github.com/elizaOS/eliza/pull/5865)

- **URL Synchronization for DMs**: Added URL synchronization for direct message channels, allowing users to bookmark and share direct links to specific conversations. [PR #5941](https://github.com/elizaOS/eliza/pull/5941)

### Developer Tools
- **Standalone CLI Chat**: Added a new standalone CLI chat interface with improved user experience for quick testing and development. [PR #5879](https://github.com/elizaOS/eliza/pull/5879)
- **Dynamic Prompting in Scenarios**: Implemented multi-turn conversations in ElizaOS scenarios, enabling sophisticated testing of agent behavior through extended conversations where an LLM simulates realistic user responses. [PR #5824](https://github.com/elizaOS/eliza/pull/5824)

Example configuration:

```yaml
run:
  - input: "Hi, I need help with something"
    conversation:
      max_turns: 4
      user_simulator:
        persona: "polite customer with a billing question"
        objective: "find out why charged twice this month"
        temperature: 0.6
      final_evaluations:
        - type: "llm_judge"
          prompt: "Did the agent successfully help resolve the billing issue?"
          expected: "yes"
```

## 3. Bug Fixes

### Critical Issues Resolved
- **Farcaster Plugin Performance**: Acknowledged a known issue with the Farcaster plugin making approximately 2 million requests to PostgreSQL databases. The issue has been documented as [Issue #8](https://github.com/elizaos-plugins/plugin-farcaster/issues/8) and is being investigated, potentially related to `/notifications` requests via Neynar.
- **Plugin API Routes**: Resolved an issue with plugin API routes not resolving in version 1.5.8. The problem was related to specific plugin route setup rather than the core framework. [Discord discussion](https://discord.com/channels/1377726087789940836)
- **Discord Image Generation**: Fixed a long-standing issue where generated images were not appearing in Discord channels even though they were visible in the web UI. [PR #5861](https://github.com/elizaOS/eliza/pull/5861)

### Other Fixes
- **CLI Port Detection**: Fixed the port detection mechanism for automatic fallback when the default port is occupied. [PR #5876](https://github.com/elizaOS/eliza/pull/5876)
- **Unhandled Promise**: Resolved an unhandled promise in the action update functionality in `plugin-bootstrap`. [PR #5870](https://github.com/elizaOS/eliza/pull/5870)
- **TypeScript Compilation**: Fixed TypeScript errors by adding DOM types to the configuration and resolving Buffer to Blob type compatibility in api-client. [PR #5878](https://github.com/elizaOS/eliza/pull/5878), [PR #5960](https://github.com/elizaOS/eliza/pull/5960)

## 4. API Changes

### Package Structure Updates
- **NPM Package Alias**: Created an `elizaos` npm alias package that delegates to `@elizaos/cli`, improving discoverability while maintaining the same functionality. [PR #5972](https://github.com/elizaOS/eliza/pull/5972)
- **Browser/Node Split**: Restructured several packages to have separate browser and Node.js entry points:
  - `@elizaos/plugin-sql` now has `src/index.browser.ts` and `src/index.node.ts`
  - Sentry browser SDK was removed from the core package, avoiding bundling browser-incompatible code. [PR #5961](https://github.com/elizaOS/eliza/pull/5961)

### Breaking API Changes
- **Action Events**: Modified how action notifications are sent, now only triggering for `client_chat` messages to prevent excessive notifications. [PR #5957](https://github.com/elizaOS/eliza/pull/5957)
- **Runs Tracking Interface**: Introduced a new structured API for tracking agent runs, which may require updates to custom monitoring tools. [PR #5953](https://github.com/elizaOS/eliza/pull/5953)

## 5. Social Media Integrations

### Farcaster Updates
- **Performance Issue**: Identified and documented a critical performance issue with the Farcaster plugin causing approximately 2 million database requests. A GitHub issue has been created and investigation is underway. [Issue #8](https://github.com/elizaos-plugins/plugin-farcaster/issues/8)
- **Marketing Initiative**: There's an ongoing effort to create a Farcaster character called "frok" as a marketing initiative, with a 3-week timeline. Stan and sayonara are collaborating on this project.

### Discord Integration
- **Image Generation**: Fixed the issue with generated images not appearing in Discord channels while being visible in the web UI. [PR #5861](https://github.com/elizaOS/eliza/pull/5861) and [Issue #5809](https://github.com/elizaOS/eliza/issues/5809)

## 6. Model Provider Updates

### Anthropic Research Insights
- Research findings were shared regarding Anthropic's discovery about ruler RL on MCP tool use.
- Notable improvements in test accuracy were reported:
  - Internal Slack tools: 67% → 80% 
  - Asana tools: 80% → 86%
  - These gains were achieved through description and schema tweaks.

### Sentry Vercel AI Integration
- Added Sentry's Vercel AI integration to improve monitoring and error tracking for deployments on Vercel. [PR #5963](https://github.com/elizaOS/eliza/pull/5963)

## 7. Breaking Changes

### V1 to V2 Migration Considerations
- **Plugin Structure**: The separation of browser and Node.js code in plugins (like `@elizaos/plugin-sql`) may require adjustments to import statements in applications that directly reference these modules.
- **Action Notifications**: The change to only send action notifications for `client_chat` messages could affect custom UI implementations that rely on these events.
- **CLI Architecture**: A major refactoring of the Eliza CLI is in progress ([Issue #5860](https://github.com/elizaOS/eliza/issues/5860)), which will significantly change how the CLI interacts with projects. The proposed changes include:
  - Moving AgentServer bootstrapping logic from CLI to project directories
  - Changing the CLI to focus on configuration and delegate execution to project scripts
  - This will require updates to existing projects when the changes are implemented

### Dependency Updates
- Updated Bun to version 1.2.21 across the entire monorepo, which may affect builds depending on specific Bun behaviors. [PR #5874](https://github.com/elizaOS/eliza/pull/5874)
- Added security overrides for the `error-ex` NPM package following the discovery of malicious code in the NPM ecosystem. [PR #5904](https://github.com/elizaOS/eliza/pull/5904)