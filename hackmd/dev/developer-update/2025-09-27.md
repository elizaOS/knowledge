# ElizaOS Developer Update - Week of September 21 to September 27, 2025

## 1. Core Framework

We made significant improvements to the ElizaOS architecture this week, focusing on stability and performance:

### Runtime Enhancements
- **Fixed critical runtime bug** in `runtime.ts` where unhandled exceptions were occurring when `getAgents` failed (ELIZA-741)
- **Improved runtime initialization** with PR [#6008](https://github.com/elizaOS/eliza/pull/6008) to ensure settings are injected at creation time rather than after initialization, preventing a race condition where the adapter wasn't receiving the correct Postgres URL

### Plugin System
- **Auto-installation for missing plugins** was added via PR [#6006](https://github.com/elizaOS/eliza/pull/6006), enabling safe, on-demand plugin installation when the server encounters referenced but uninstalled plugins
- **Standardized PGLite data directory** environment variable across examples, CLI, and SQL plugin to improve configuration consistency [#5987](https://github.com/elizaOS/eliza/pull/5987)
- **Fixed ZOD dependency issues** by upgrading to the latest major version across CLI, Core, plugins, and starter templates [#5994](https://github.com/elizaOS/eliza/pull/5994)

### Agent Runtime
- **Stabilized v1.5.12 release** as a revert of v1.5.10 to address critical issues
- **Fixed infinite dev restart loop** with PR [#5991](https://github.com/elizaOS/eliza/pull/5991) by adding recursion prevention and improving client directory detection

## 2. New Features

### Cloudflare Integration
A major new integration was demonstrated by Sam for hosting ElizaOS agents in Cloudflare:

```javascript
// Example of deploying an ElizaOS CLI Agent with the ElizaOS Cloud Plugin in Cloudflare
import { AgentServer } from '@elizaos/server';
import cloudPlugin from '@elizaos/plugin-cloud';

export default {
  async fetch(request, env, ctx) {
    // Initialize the agent server with Cloudflare environment
    const server = new AgentServer({
      plugins: [cloudPlugin],
      settings: {
        CLOUD_API_KEY: env.CLOUD_API_KEY,
        // Cloudflare-specific billing tracking
        CLOUD_SANDBOX_FEE: 0.20 // 20% sandbox fee
      }
    });
    
    // Handle the request through the ElizaOS runtime
    return await server.handleRequest(request);
  }
};
```

### Dynamic Prompting for Scenarios
The dynamic prompting feature for multi-turn conversations in ElizaOS scenarios has been fully stabilized:

```yaml
# Example conversation scenario with dynamic prompting
run:
  - input: "I need help with elizaOS token migration"
    conversation:
      max_turns: 4
      user_simulator:
        persona: "token holder concerned about CEX holdings"
        objective: "understand how to migrate tokens on exchanges"
        temperature: 0.6
      final_evaluations:
        - type: "llm_judge"
          prompt: "Did the agent clearly explain the token migration process?"
          expected: "yes"
```

## 3. Bug Fixes

Several critical bugs were fixed this week:

| Bug | Impact | Resolution |
|-----|--------|------------|
| Unhandled exception in `runtime.ts` | Agents failed to load when `getAgents` failed | Improved error handling in agent creation process [#6007](https://github.com/elizaOS/eliza/pull/6007) |
| Environment loading failures | `.env` not loading from monorepo, causing Ollama to always use fallback | Fixed environment variable resolution with monorepo-aware resolver [#6005](https://github.com/elizaOS/eliza/pull/6005) |
| ZOD v4 compatibility | Multiple plugins failing to load due to ZOD version conflicts | Upgraded ZOD across all packages and fixed import paths [#5994](https://github.com/elizaOS/eliza/pull/5994) |
| Infinite restart loop in CLI | Dev command would repeatedly restart when client directory was missing | Added recursion prevention logic and improved directory detection [#5991](https://github.com/elizaOS/eliza/pull/5991) |
| Runtime initialization race condition | Database operations failing due to incorrect adapter configuration | Ensured settings are injected at runtime creation rather than after [#6008](https://github.com/elizaOS/eliza/pull/6008) |

## 4. API Changes

### Runtime Events API
The runtime events API has been updated to improve action and tool execution visibility:

```typescript
// New structure for action execution events
interface ActionExecutionEvent {
  type: 'action_execution';
  action: {
    name: string;
    parameters: Record<string, any>;
  };
  result?: {
    success: boolean;
    data: any;
    error?: string;
  };
  timestamp: number;
}

// Usage example
runtime.on('action_execution', (event) => {
  console.log(`Action ${event.action.name} executed with result:`, 
              event.result?.success ? 'success' : 'failure');
});
```

### Parameter Passing in MCP Plugin
There's an ongoing issue with parameter passing in the MCP plugin integration where the system is sending a UUID instead of the correct telegramId parameter. The team is investigating this issue to ensure proper parameter passing during tool invocation.

## 5. Social Media Integrations

No significant updates to social media plugins were released this week, though there are ongoing discussions about improvements to the Telegram plugin to fix documentation inconsistencies.

## 6. Model Provider Updates

### GPT-5-Codex Availability
GPT-5-Codex is now available on OpenRouter, optimized for coding workflows. You can integrate it with ElizaOS as follows:

```typescript
// Add to your agent configuration
import openrouterPlugin from '@elizaos/plugin-openrouter';

const agent = {
  name: 'CodeAssistant',
  plugins: [openrouterPlugin],
  settings: {
    OPENROUTER_API_KEY: 'your-api-key',
    OPENROUTER_DEFAULT_MODEL: 'openai/gpt-5-codex'
  }
};
```

## 7. Breaking Changes

### Token Migration from $ai16z to $elizaOS

The token migration from $ai16z to $elizaOS is underway, with several important technical details for developers:

- This is not just a rebranding but involves technical improvements for cross-chain functionality via Chainlink CCIP
- The new token architecture enables listings on major exchanges like Binance and Coinbase that weren't possible with the previous SPL2022 token
- Exchange integration work is ongoing directly with CEXs to ensure smooth migration

For agent developers integrating with the token ecosystem, note that:

```typescript
// Before: AI16Z token integration
import { tokenProvider } from '@elizaos/plugin-token';
const tokenInfo = await tokenProvider.getTokenInfo('ai16z');

// After: ElizaOS token integration
import { tokenProvider } from '@elizaos/plugin-token';
const tokenInfo = await tokenProvider.getTokenInfo('elizaos');
```

Full token migration documentation is being finalized and will be shared soon, including detailed instructions for both users and developers integrating with the token.

Additional technical resources on the token architecture are available in the content series on [mirror.xyz](https://mirror.xyz/) explaining the token's direction and technical implementation.

Remember to update any hardcoded token references in your agent code to ensure compatibility with the migration.