# ElizaOS Developer Update - Week of September 1-8, 2025

## Core Framework

This week saw significant architectural advancements in ElizaOS with the proposal for a comprehensive CLI refactor ([#5860](https://github.com/elizaos/eliza/issues/5860)) leading the way. The main focus has been on centralizing business logic in the `@eliza/server` package to reduce duplication and improve code organization. A major PR ([#5864](https://github.com/elizaos/eliza/pull/5864)) is in progress, which moves 870+ lines of business logic from CLI to server package and introduces new orchestration classes.

Key architectural improvements include:
- New `ElizaOS` orchestration class with dedicated managers for Agent, Plugin, and Config
- Simplified CLI code reduced to ~170 lines of pure delegation code
- Removed 1,612 lines of redundant code while adding 1,211 lines of well-organized managers
- Enhanced dotenv support for improved environment variable handling

## New Features

### Dynamic Prompting for Scenarios

The most substantial feature addition this week is the implementation of Dynamic Prompting ([#5824](https://github.com/elizaos/eliza/pull/5824)), which enables multi-turn conversations in ElizaOS scenarios. This feature allows for sophisticated testing of agent behavior through extended conversations where an LLM simulates realistic user responses.

```yaml
run:
  - input: "I need help with something"
    conversation:
      max_turns: 4
      user_simulator:
        persona: "polite customer with a billing question"
        objective: "find out why charged twice this month"
        temperature: 0.6
      final_evaluations:
        - type: "llm_judge"
          prompt: "Did the agent successfully help resolve the billing issue?"
          expected: "yes"
```

### Real-time Action Execution UI

A significant enhancement to the Chat UI ([#5865](https://github.com/elizaos/eliza/pull/5865)) now displays real-time feedback on tool actions and their results, providing transparency into what agents are doing:

```jsx
// Action Tool Component Example
<ActionTool
  action="SEND_MESSAGE"
  status="COMPLETED"
  input={{ text: "Hello world" }}
  output={{ messageId: "msg_123", result: "Message sent successfully" }}
/>
```

### Standalone CLI Chat Interface

A new standalone CLI chat interface ([#5879](https://github.com/elizaos/eliza/pull/5879)) provides an improved developer experience for testing agent interactions directly from the command line.

## Bug Fixes

Several critical bugs were addressed this week:

1. **Discord Image Generation** ([#5861](https://github.com/elizaos/eliza/pull/5861)) - Fixed a long-standing issue preventing generated images from appearing in Discord channels.

2. **Logger Improvements** ([#5849](https://github.com/elizaos/eliza/pull/5849), [#5885](https://github.com/elizaos/eliza/pull/5885)) - Resolved debug level issues and fixed `LOG_JSON_FORMAT` not working correctly.

3. **CLI Port Detection** ([#5876](https://github.com/elizaos/eliza/pull/5876)) - Fixed automatic port fallback when the default port is occupied.

4. **Image Generation Content** ([#5888](https://github.com/elizaos/eliza/pull/5888)) - Fixed image generation to use the user's request instead of the agent profile, ensuring more accurate results.

5. **Registry Entry Scoping** ([#5882](https://github.com/elizaos/eliza/pull/5882)) - Fixed npmPackage field for registry entries, resolving issue #5813.

## API Changes

The primary API changes this week focused on enabling real-time action tracking and improved conversation flows:

1. **Action Lifecycle Events** - Enhanced `ACTION_STARTED` and `ACTION_COMPLETED` events with detailed payloads.

2. **Message CRUD Operations** - Added new methods:
   - `getMessageById()`: Retrieve specific messages by ID
   - `updateMessage()`: Update existing messages with new data

3. **New API Endpoints**:
   - `POST /api/messaging/action`: Create new action messages
   - `PATCH /api/messaging/action/:id`: Update existing action messages

## Social Media Integrations

Discord integration received a major improvement with the fix for image generation ([#5861](https://github.com/elizaos/eliza/pull/5861)), allowing images to be correctly displayed in Discord channels. Additionally, a new Matrix platform integration was proposed ([#5862](https://github.com/elizaos/eliza/issues/5862)) to expand ElizaOS's social capabilities.

From Discord discussions, users have reported progress with Twitter integrations, with one user (Trixi) sharing their experience implementing a Twitter client for an agent requiring a custom plugin. They mentioned migrating their agent from vvaifu to elizaOS.

## Model Provider Updates

Several important model provider updates were discussed this week:

1. **OpenRouter Updates** - New Sonoma AI models with 2M context windows are now available through OpenRouter. A PR was also created for OpenRouter image generation model integration.

2. **Kimi K2 Upgrade** - A new model with improved coding capabilities and 256k context length was announced.

3. **Qwen3-Max Release** - Enhanced performance across math, coding, and multilingual tasks.

4. **Anthropic API Credits** - Users reported that Anthropic API credits have been depleted, affecting service availability. This may require attention from the team to ensure continued service.

## Breaking Changes

While the team has maintained backward compatibility with all changes this week, developers should be aware of the ongoing architectural refactoring of the CLI ([#5860](https://github.com/elizaos/eliza/issues/5860)). This effort is designed to be non-breaking, but it represents a significant shift in how the core logic is organized.

Key migration considerations:

1. If you're extending the CLI directly, be aware that business logic is being moved to the `@eliza/server` package.

2. The Dynamic Prompting feature in scenarios is fully backward compatible - existing single-turn scenarios will continue to work unchanged.

3. Several build and dependency updates were made, including updating to Bun 1.2.21 ([#5874](https://github.com/elizaos/eliza/pull/5874)), which may require adjustments if you're using specific Bun features.

The team continues to maintain a strong focus on backward compatibility while pushing forward with architectural improvements to make ElizaOS more maintainable and extensible.