# ElizaOS Developer Update - November 3, 2025

## 1. Core Framework

### Entity-Level Row-Level Security
A significant architectural enhancement is in progress with PR [#6107](https://github.com/elizaOS/eliza/pull/6107) by @standujar, implementing entity-level Row-Level Security (RLS). This builds on the previous PR [#6101](https://github.com/elizaOS/eliza/pull/6101) which introduced server-level RLS:

- Creates a hierarchical structure where multiple entities connect to multiple servers that connect to a single database
- Enables strict data isolation where an entity from one server can only access its own data
- Significantly enhances multi-tenant security and data partitioning

### Agent Settings Persistence
A critical bug affecting agent reliability has been fixed in PR [#6106](https://github.com/elizaOS/eliza/pull/6106):

- Resolves issue where agent settings were lost during restarts
- Implements intelligent merge between database-persisted settings and character file configuration 
- Ensures runtime-generated configurations correctly persist across sessions

```typescript
// New intelligent merge logic in runtime.ts
const mergedSettings = mergeDeep(
  agentRecord?.settings || {}, 
  characterConfig.settings || {}
);
```

### Plugin Connection Stability
Major improvements to plugin connection reliability are in progress:

- Fixed issues with MCP connections timing out during `listTools()` calls
- Increased ping retry attempts from 3 to a configurable higher value
- Added error handling for transport close events
- Modified ping methods to use more reliable patterns

```javascript
// Recommended configuration changes for plugin MCP
{
  pingTimeout: 15000,  // Increased from 5000
  pingRetries: 10,     // Increased from 3
  reconnectionAttempts: 5,
  pingMethod: "ping"   // More reliable than listTools
}
```

## 2. New Features

### Otaku DeFi Agent
Eliza's new flagship DeFi agent, Otaku, is currently in beta testing:

- Provides real-time crypto market analysis and trading capabilities
- Will be open-sourced as part of Eliza's ecosystem
- Currently experiencing issues with outdated token prices and LP staking functionality
- Example usage (once fixed):

```
/otaku analyze SOL/USDT pair on Jupiter
/otaku compare LP yields for ELIZAOS/USDT across DEXes
/otaku alert when ELIZAOS price exceeds $1.20
```

### ElizaOS Cloud Platform
Development continues on ElizaOS Cloud, a no-code platform for creating AI agents:

- Consumer-focused platform for agent creation without coding experience
- Leverages the unified messaging API via `elizaOS.sendMessage()`
- New Jobs API enabling stateless, one-off agent interactions
- Demo planned for upcoming Devconnect event

## 3. Bug Fixes

### Agent Settings Persistence (PR [#6106](https://github.com/elizaOS/eliza/pull/6106))

The fix addresses a critical issue where runtime-generated agent settings were lost after restarts:

**Root Cause**: During agent initialization, settings from character files were overwriting database-persisted runtime settings.

**Solution**: Implemented deep merge logic that properly combines settings from both sources, with specific test cases:
- New agent creation
- Settings merge on restart (DB + character file)
- Character file overrides for specific keys
- Deep merge of secrets
- Handling of missing settings in either source

**Impact**: Agents now maintain state across restarts, significantly improving reliability for production deployments.

### Plugin MCP Connection Stability

Multiple issues were identified with plugin MCP connections dropping:

**Root Causes**:
1. Timeout of only 5 seconds for `listTools()` calls
2. Limited ping retry attempts (3)
3. Missing error handling for transport close events

**Solutions**:
- Increased timeouts and retry attempts
- Added proper error handling
- Changed ping method to more reliable alternatives

## 4. API Changes

### Unified Messaging API
The new `elizaOS.sendMessage()` API provides a standardized interface for agent communication:

```typescript
// New unified messaging API
const response = await elizaOS.sendMessage({
  agentId: "otaku",
  message: "What's the current price of ELIZAOS?",
  session: sessionId // Optional for persistent chats
});
```

### Jobs API for Stateless Interactions
A new Jobs API has been introduced for one-off agent messaging:

```typescript
// Create a job
const job = await elizaOS.createJob({
  agentId: "otaku",
  message: "Analyze ELIZAOS token performance"
});

// Poll for job completion
const result = await elizaOS.getJobResult(job.id);
```

## 5. Social Media Integrations

### X (Twitter) Integration Challenges
- ElizaOS is facing significant challenges with X (Twitter) integration
- An ongoing lawsuit demands $50k monthly payments from ElizaOS
- Team recommends following X's Terms of Service to avoid risks
- Developing alternative solutions with Farcaster and Nostr platforms

### Farcaster Integration
- Otaku Farcaster miniapp in development, expected to launch next week
- Dependent on Coinbase integration for full functionality
- Will offer freemium model for market analysis

## 6. Model Provider Updates

### OpenRouter Integration
A new text embedding model support is being added to the OpenRouter plugin:

```typescript
// Example usage of new TEXT_EMBEDDING models
const embeddings = await openRouter.getEmbeddings({
  input: "ELIZAOS token analysis",
  model: "openai/text-embedding-ada-002"
});
```

### Analytics Plugin Integration
The new plugin-analytics has been migrated from Spartan tools:

- Provides technical indicators for cryptocurrency analysis:
  - MACD (Moving Average Convergence Divergence)
  - RSI (Relative Strength Index)
  - Bollinger Bands
  - Moving Averages
- Native Trading View charting functionality via plugin-chart

## 7. Breaking Changes

### Token Migration: AI16Z to ELIZAOS
A critical token migration is scheduled to begin on November 7th:

- Migration ratio: 1 AI16Z token converts to 6 ELIZAOS tokens
- Supply changes:
  - Total supply increases from 6.6B to 11B tokens (+40%)
  - Circulating supply immediately increases from 6.6B to 7.4B (+13%)
- Migration process:
  - Automatic on some exchanges (confirmed for Binance and Gate.io)
  - Manual migration through portal for on-chain tokens
  - 90-day migration window
  - No lock-up period for migrated tokens

**Warning**: Developers using token integrations must update contract addresses across all chains. New addresses will be published in announcements channels.

**Action Required**: Update any systems that interact with the AI16Z token to use the new ELIZAOS token contract addresses before November 7th.