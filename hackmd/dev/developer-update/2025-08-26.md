# ElizaOS Developer Update - August 20-26, 2025

## 1. Core Framework

The ElizaOS architecture has undergone several important enhancements this week, focusing on stability, performance, and developer experience:

- **Runtime Improvements**: Added `getServiceLoadPromise` interface to the runtime, enabling more efficient service initialization tracking ([PR #5801](https://github.com/elizaos/eliza/pull/5801))
- **Asynchronous Embedding Generation**: Implemented a queue-based system for embedding generation that improves message processing latency by removing the 500ms+ blocking operation ([PR #5793](https://github.com/elizaos/eliza/pull/5793))
- **Cross-Environment Logger**: Refactored the logger module to function seamlessly across both browser and Node.js environments ([PR #5797](https://github.com/elizaos/eliza/pull/5797))
- **Entity Creation Fix**: Resolved a critical database error during entity creation that was causing SQL parameter mismatches ([PR #5791](https://github.com/elizaos/eliza/pull/5791))
- **Plugin System Enhancements**: More flexible component queries in `plugin-sql` allow for better handling of date objects and timestamps ([PR #5802](https://github.com/elizaos/eliza/pull/5802))

## 2. New Features

### Scenario Matrix Runner & Reporting System

A comprehensive system for testing and evaluating agent behaviors was completed and merged ([PR #5723](https://github.com/elizaos/eliza/pull/5723)):

```yaml
name: "Agent Interaction Test"
description: "Tests natural language interaction with agents"

plugins:
  - "@elizaos/plugin-github"
  - "@elizaos/plugin-evm"

environment:
  type: e2b

setup:
  mocks:
    - service: "github-service"
      method: "searchIssues"
      response:
        - title: "Implement Dark Mode"
          number: 123
          state: "open"
          labels: ["feature", "ui"]
```

The system includes:
- Matrix execution for testing with parameter overrides
- Environment providers for both local and E2B sandboxed testing
- Mock service support for deterministic testing
- Comprehensive evaluation engine with action tracking and LLM judges
- Dynamic reporting with HTML and PDF export capabilities

### Sessions API

A powerful new Sessions API was implemented to simplify messaging between users and agents ([PR #5799](https://github.com/elizaos/eliza/pull/5799)):

```typescript
// Creating a new session
const session = await sessionsApi.createSession({
  agentId: "agent-uuid",
  userId: "user-uuid",
  metadata: { context: "support-chat" }
});

// Sending a message in the session
const response = await sessionsApi.sendMessage(session.id, {
  content: "What features are on the roadmap?",
  type: "text"
});
```

Key features include:
- Comprehensive timeout management and auto-renewal capabilities
- Session metadata propagation throughout the message processing pipeline
- Proper error handling and session lifecycle control

## 3. Bug Fixes

### Critical Fixes

- **Plugin SQL Test**: Fixed timestamp handling in the plugin-sql test suite that was causing test failures in CI environments ([PR #5802](https://github.com/elizaos/eliza/pull/5802))
- **XML Parsing**: Replaced unsafe XML fallback regex with a more reliable linear scan to avoid potential security issues ([PR #5741](https://github.com/elizaos/eliza/pull/5741))
- **Plugin Registry**: Corrected comma placement when adding entries to the registry's `index.json` file, preventing JSON syntax errors ([PR #5774](https://github.com/elizaos/eliza/pull/5774))
- **Logger Refactoring**: Converted all logger calls to object-first structured logging to align with pino typings and fix TypeScript errors ([PR #5737](https://github.com/elizaos/eliza/pull/5737))
- **TEE Integration**: Fixed argument handling in the Phala CLI wrapper and repaired the `tee` starter Docker build ([PR #5773](https://github.com/elizaos/eliza/pull/5773))

### Plugin and Template Improvements

- **Action Template**: Removed duplicate `actionNames` block from message handler template to streamline prompt generation ([PR #5817](https://github.com/elizaos/eliza/pull/5817))
- **Authentication Logic**: Refined prompt logic to enforce user ID requirements for actions needing authentication ([PR #5816](https://github.com/elizaos/eliza/pull/5816))
- **Action Processing**: Reverted a `processActions` change to use `cacheState` to retrieve action results instead, resolving a regression ([PR #5815](https://github.com/elizaos/eliza/pull/5815))
- **Plugin-MySQL Support**: Added support for the MySQL plugin before forcing plugin-sql, making plugin order less important ([PR #5718](https://github.com/elizaos/eliza/pull/5718))

## 4. API Changes

### Runtime API Additions

- Added `getServiceLoadPromise` to the runtime interface for tracking service initialization:

```typescript
// New method to access service load promises
const servicePromise = runtime.getServiceLoadPromise('myService');
await servicePromise; // Wait for service to be fully loaded
```

### Sessions API

The new Sessions API introduces several endpoints for managing user-agent interactions:

```typescript
// API Client methods
createSession(options: CreateSessionOptions): Promise<Session>
getSession(sessionId: string): Promise<Session>
updateSession(sessionId: string, options: UpdateSessionOptions): Promise<Session>
deleteSession(sessionId: string): Promise<void>
listSessions(options?: ListSessionsOptions): Promise<PaginatedResponse<Session>>
sendMessage(sessionId: string, message: SendMessageOptions): Promise<MessageResponse>
```

Sessions include timeout management with these configurable parameters:
- `idleTimeoutMs`: Session expiration after inactivity (default: 30 minutes)
- `absoluteTimeoutMs`: Maximum session lifetime (default: 24 hours)
- `renewThresholdMs`: When to auto-renew before expiration (default: 5 minutes)

## 5. Social Media Integrations

- **iFrame Support**: Fixed production configuration to allow iframes when web UI is enabled, enabling proper plugin panels in production environments ([PR #5735](https://github.com/elizaos/eliza/pull/5735))
- **Plugin Twitter**: Users reported on Discord that older Twitter plugins need updating to work with the latest plugin system. Work is ongoing to address this issue.

## 6. Model Provider Updates

- **Deep-Seek Integration**: Discord discussions clarified that Deep-Seek LLMs can work with elizaOS v1.4.2 by using the OpenAI plugin with modified environment variables:

```bash
# Configuration for Deep-Seek with OpenAI plugin
OPENAI_API_KEY=your_deepseek_api_key
OPENAI_BASE_URL=https://api.deepseek.com/v1
# Note: You will still need a separate embedding provider
```

- **Bootstrap Plugin Enhancement**: Added a new setting `BOOTSTRAP_DEFLLMOFF` that turns off LLM automatic responses, giving developers more control over agent interactions ([PR #5684](https://github.com/elizaos/eliza/pull/5684))

## 7. Breaking Changes

### V1 to V2 Migration Issues

- **Removal of Specs System**: The obsolete plugin specification system was removed from the core package ([PR #5724](https://github.com/elizaos/eliza/pull/5724)). If your code was still using any of these types, you'll need to update:

```typescript
// Old (removed) imports
import { v1, v2 } from '@elizaos/core/specs';

// New approach - use types directly from core
import { IAgentRuntime, Plugin, PluginContext } from '@elizaos/core';
```

- **Workspace Dependencies**: All internal package dependencies now use `workspace:*` versioning instead of hardcoded version numbers ([PR #5731](https://github.com/elizaos/eliza/pull/5731)). If you're extending ElizaOS, ensure your monorepo setup is compatible with this change.

- **Documentation Structure**: The `packages/docs` directory was converted from tracked files to a git submodule pointing to the external repository at https://github.com/elizaos/docs ([PR #5803](https://github.com/elizaos/eliza/pull/5803)). Update your local setup with:

```bash
git submodule update --init --recursive
```

---

For a complete list of changes, please refer to the [elizaOS/eliza repository](https://github.com/elizaOS/eliza) and join our [Discord community](https://discord.gg/elizaos) for further discussions and assistance.