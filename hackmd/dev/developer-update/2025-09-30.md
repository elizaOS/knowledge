# ElizaOS Developer Update - September 30, 2025

## Core Framework

The ElizaOS framework has undergone significant architectural refinements this month, with several key updates released in versions 1.1.15 and 1.6.0-beta.

### Runtime Initialization Improvements
We've made runtime initialization idempotent and improved service registration coordination, removing legacy code paths and redundant type guards. This change significantly improves stability and prevents potential race conditions.

```typescript
// Before (problematic initialization)
const runtime = new AgentRuntime();
// Settings injected later, causing race conditions
runtime.setSettings(settings);

// After (stable initialization with settings at creation)
const runtime = new AgentRuntime(settings);
```

### Generic Platform Context Provider
A new generic platform context provider has been added to the bootstrap package, making the `shouldRespond` function more versatile, particularly beneficial for the Discord plugin. This allows developers to build more context-aware agents.

### CLI and Server Restructuring
We've made significant progress on centralizing business logic in the server package per issue #5860. This architectural shift reduces duplication and establishes clearer boundaries between the CLI and runtime components.

### Type System Overhaul
Comprehensive refactoring of type definitions across the runtime improves type safety and developer experience. This work touches core components, event handling, and service interfaces.

## New Features

### Agent Runs Visualization Timeline
A powerful new visualization tool for tracking agent execution flow and performance metrics has been added to the client:

```typescript
// Example usage in a React component
import { AgentRunTimeline } from '@elizaos/client/components/agent-runs';

function AgentAnalytics({ agentId }) {
  return (
    <div className="agent-analytics">
      <h2>Execution Timeline</h2>
      <AgentRunTimeline agentId={agentId} />
    </div>
  );
}
```

### Dynamic Prompting for Multi-Turn Conversations
We've implemented dynamic prompting capabilities for ElizaOS scenarios, enabling sophisticated testing of agent behavior through extended conversations where an LLM simulates realistic user responses:

```yaml
# Example dynamic prompting scenario
run:
  - input: "I need help with my account"
    conversation:
      max_turns: 4
      user_simulator:
        persona: "frustrated customer with billing issue"
        objective: "resolve double-charge on recent statement"
        constraints:
          - "Start hesitant to provide details"
          - "Become cooperative if agent shows empathy"
      termination_conditions:
        - type: "user_expresses_satisfaction"
      final_evaluations:
        - type: "user_satisfaction"
          satisfaction_threshold: 0.7
```

### VibeVM Implementation
A new "VibeVM" implementation within a Cryptographic Virtual Machine (CVM) has been integrated, using deterministic key generation for JWT tokens with signature chain verification in a Trusted Execution Environment (TEE). This enhances security for sensitive agent operations.

## Bug Fixes

### Zod Dependency Resolution
A critical bug causing multiple plugins to fail with "Cannot find module 'zod/v4'" has been resolved by upgrading the Zod validation library across the framework. This affected several plugins including OpenRouter.

```bash
# If you encounter this issue, run:
bun add zod
```

### Image Generation in Discord
Fixed a persistent issue preventing generated images from appearing in Discord channels, while they were visible in the web UI. This ensures consistent experience across platforms.

### NPM Package Publishing
Resolved an issue with new package publishing on NPM by adding proper public publish configuration. The fix ensures that the `@elizaos/service-interfaces` package and other new packages can be published correctly.

### Embedded Service Errors
Fixed a common error related to the embedding service failing with "No handler found for delegate type: TEXT_EMBEDDING" by providing clearer error messages and workarounds:

```bash
# To disable embeddings if they're causing issues:
IGNORE_BOOTSTRAP=true
```

## API Changes

### Runtime Service Registration
The service registration API has been refactored to provide better type safety and consistency:

```typescript
// New pattern for registering services
runtime.registerService<MyServiceType>('my-service', myServiceImplementation);

// New pattern for accessing services
const myService = runtime.getService<MyServiceType>('my-service');
```

### Media Transformation API
A new API has been added to transform local file paths to API URLs for web client image display, improving cross-platform compatibility:

```typescript
// Server-side transformation
import { transformMediaPath } from '@elizaos/server/utils/media-transformer';

const apiUrl = transformMediaPath(localFilePath, baseUrl);
```

### Plugin Routes Namespacing
Plugin routes are now properly namespaced to prevent conflicts and improve security:

```typescript
// Before
app.get('/api/my-plugin-route', handler);

// After
app.get('/api/plugins/my-plugin/route', handler);
```

## Social Media Integrations

### Token Migration
The migration from AI16z token to ElizaOS token is scheduled for October 6th. This will enable expansion to more chains, access to greater liquidity, and enable x402 transactions (agent-to-agent payments).

### Solana Support
Solana support for x402 (agent-to-agent payment system) is now live, providing an additional blockchain option for ElizaOS agents.

### Shaw's X Platform Return
The community has been discussing Shaw's potential return to the X platform, with team members expressing hope for this development soon.

## Model Provider Updates

### OpenRouter Model Updates
OpenRouter has announced several new AI models:
- DeepSeek V3.2 Exp with DeepSeek Sparse Attention for improved long-context efficiency
- Claude Sonnet 4.5, which reportedly outperforms Opus 4.1 in Anthropic's benchmarks

### OpenAI Commerce Protocol
OpenAI has introduced an Instant Checkout feature allowing ChatGPT users to complete transactions directly with merchants through the Agentic Commerce Protocol. This protocol was developed with Stripe and will be open-sourced, providing integration opportunities for ElizaOS.

### Browser and WASM Support
We've added browser-safe builds for `@elizaos/plugin-sql` using PGlite WASM, enabling SQL capabilities in browser environments:

```typescript
// Browser-compatible SQL import
import sqlPlugin from '@elizaos/plugin-sql/browser';

const character = {
  name: 'BrowserAgent',
  plugins: [sqlPlugin],
  settings: {
    // Browser-specific settings
  }
};
```

## Breaking Changes

### V1 to V2 Migration Notes

#### Zod Package Version
All plugins now require Zod v4, which may require updates to your custom plugins:

```bash
# Update zod in your plugin projects
bun add zod@4.1.11
```

#### CLI Project Commands
The `elizaos dev` and `elizaos start` commands now function differently in plugin directories. If you're experiencing issues, update to the latest version:

```bash
npm install -g @elizaos/cli@latest
```

#### Server Host Configuration
When using the dev command, you must now explicitly set the `SERVER_HOST` environment variable if you need to bind to a specific interface:

```bash
# In .env file
SERVER_HOST=0.0.0.0
```

#### PGLite Data Directory
The environment variable for the PGLite data directory has been standardized across examples, the CLI, and the SQL plugin. Update your configuration to use the consistent variable name:

```bash
# Use this in your .env file
PGLITE_DATA_DIR=./data
```