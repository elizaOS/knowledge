{
  "interval": {
    "intervalStart": "2025-06-30T00:00:00.000Z",
    "intervalEnd": "2025-07-01T00:00:00.000Z",
    "intervalType": "day"
  },
  "repository": "elizaos/eliza",
  "overview": "From 2025-06-30 to 2025-07-01, elizaos/eliza had 20 new PRs (12 merged), 3 new issues, and 12 active contributors.",
  "topIssues": [
    {
      "id": "I_kwDOMT5cIs69Gbj2",
      "title": "Create custom plugin for onchain AI agent",
      "author": "yehia67",
      "number": 5260,
      "repository": "elizaos/eliza",
      "body": "\n**Describe the bug**\nI am creating a plugin to manage the Biconomy wallet with Chainlink automation & functions. It is hard to use Eliza as the agent that only supports one message, then stop using plugins and do everything from the AI model and simulate on-chain action, although I added all the actions to use it correctly.\n\n\nThe ElizaOS framework (v0.0.12) has significant reliability issues when developing custom plugins. The primary issues include:\n1. Action triggers frequently return responses from the AI model itself rather than executing the defined handler functions\n2. The debugging tools are non-functional, making troubleshooting nearly impossible\n3. Error handling is minimal or absent, with cryptic error messages like \"message: \"(Error) Message content or data is missing \" without proper stack traces. I know it from my code, but with no debugger, now I am supposed to use the `logger.debug` everywhere and redo steps, which almost take forever\n4. Database connection failures occur without clear resolution paths\n```\n[2025-06-24 15:24:48] ERROR: [CUSTOM MIGRATOR] Database connection failed: Aborted(). Build with -sASSERTIONS for more info.\nTrace: Error: Database migration failed: Database connection failed: Aborted(). Build with -sASSERTIONS for more info.\n    at AgentServer.initialize (file:///Users/yehiatarek/Documents/projects/ai%20agents/ai-agent-defi-consultant/agent/node_modules/@elizaos/server/dist/index.js:5617:15)\n    at async startAgents (file:///Users/yehiatarek/Documents/projects/ai%20agents/ai-agent-defi-consultant/agent/node_modules/@elizaos/cli/dist/index.js:3062:3)\n    at async Command.<anonymous> (file:///Users/yehiatarek/Documents/projects/ai%20agents/ai-agent-defi-consultant/agent/node_modules/@elizaos/cli/dist/index.js:3147:5)\n    at async Command.parseAsync (/Users/yehiatarek/Documents/projects/ai agents/ai-agent-defi-consultant/agent/node_modules/commander/lib/command.js:1123:5)\n    at async main (file:///Users/yehiatarek/Documents/projects/ai%20agents/ai-agent-defi-consultant/agent/node_modules/@elizaos/cli/dist/index.js:3780:3)\n    at console.trace (file:///Users/yehiatarek/Documents/projects/ai%20agents/ai-agent-defi-consultant/agent/node_modules/@sentry/core/build/esm/instrument/console.js:36:14)\n    at AgentServer.initialize (file:///Users/yehiatarek/Documents/projects/ai%20agents/ai-agent-defi-consultant/agent/node_modules/@elizaos/server/dist/index.js:5630:15)\n    at async startAgents (file:///Users/yehiatarek/Documents/projects/ai%20agents/ai-agent-defi-consultant/agent/node_modules/@elizaos/cli/dist/index.js:3062:3)\n    at async Command.<anonymous> (file:///Users/yehiatarek/Documents/projects/ai%20agents/ai-agent-defi-consultant/agent/node_modules/@elizaos/cli/dist/index.js:3147:5)\n    at async Command.parseAsync (/Users/yehiatarek/Documents/projects/ai agents/ai-agent-defi-consultant/agent/node_modules/commander/lib/command.js:1123:5)\n    at async main (file:///Users/yehiatarek/Documents/projects/ai%20agents/ai-agent-defi-consultant/agent/node_modules/@elizaos/cli/dist/index.js:3780:3)\n[2025-06-24 15:24:48] ERROR: [CUSTOM MIGRATOR] Stack trace: RuntimeError: Aborted(). Build with -sASSERTIONS for more info.\n    at abort (file:///Users/yehiatarek/Documents/projects/ai%20agents/ai-agent-defi-consultant/agent/node_modules/@electric-sql/pglite/dist/index.js:1:78978)\n    at __abort_js (file:///Users/yehiatarek/Documents/projects/ai%20agents/ai-agent-defi-consultant/agent/node_modules/@electric-sql/pglite/dist/index.js:2:64321)\n    at wasm://wasm/02190c76:wasm-function[1366]:0xe49a5\n    at wasm://wasm/02190c76:wasm-function[122]:0x13aa1\n    at wasm://wasm/02190c76:wasm-function[2987]:0x1ba700\n    at wasm://wasm/02190c76:wasm-function[9372]:0x49939b\n    at Module._pgl_backend (file:///Users/yehiatarek/Documents/projects/ai%20agents/ai-agent-defi-consultant/agent/node_modules/@electric-sql/pglite/dist/index.js:3:28022)\n    at ue.De (file:///Users/yehiatarek/Documents/projects/ai%20agents/ai-agent-defi-consultant/agent/node_modules/@electric-sql/pglite/dist/index.js:3:253696)\n    at async ue._checkReady (file:///Users/yehiatarek/Documents/projects/ai%20agents/ai-agent-defi-consultant/agent/node_modules/@electric-sql/pglite/dist/index.js:3:248130)\n    at async ue.query (file:///Users/yehiatarek/Documents/projects/ai%20agents/ai-agent-defi-consultant/agent/node_modules/@electric-sql/pglite/dist/chunk-TGYMLQND.js:8:255)\n    at async file:///Users/yehiatarek/Documents/projects/ai%20agents/ai-agent-defi-consultant/agent/node_modules/drizzle-orm/pglite/session.js:67:16\n    at async PglitePreparedQuery.queryWithCache (file:///Users/yehiatarek/Documents/projects/ai%20agents/ai-agent-defi-consultant/agent/node_modules/drizzle-orm/pg-core/session.js:40:16)\n    at async runPluginMigrations (file:///Users/yehiatarek/Documents/projects/ai%20agents/ai-agent-defi-consultant/agent/node_modules/@elizaos/plugin-sql/dist/index.js:4073:5)\n    at async DatabaseMigrationService.runAllPluginMigrations (file:///Users/yehiatarek/Documents/projects/ai%20agents/ai-agent-defi-consultant/agent/node_modules/@elizaos/plugin-sql/dist/index.js:4182:7)\n    at async AgentServer.initialize (file:///Users/yehiatarek/Documents/projects/ai%20agents/ai-agent-defi-consultant/agent/node_modules/@elizaos/server/dist/index.js:5613:9)\n    at async startAgents (file:///Users/yehiatarek/Documents/projects/ai%20agents/ai-agent-defi-consultant/agent/node_modules/@elizaos/cli/dist/index.js:3062:3)\n    at async Command.<anonymous> (file:///Users/yehiatarek/Documents/projects/ai%20agents/ai-agent-defi-consultant/agent/node_modules/@elizaos/cli/dist/index.js:3147:5)\n    at async Command.parseAsync (/Users/yehiatarek/Documents/projects/ai agents/ai-agent-defi-consultant/agent/node_modules/commander/lib/command.js:1123:5)\n    at async main (file:///Users/yehiatarek/Documents/projects/ai%20agents/ai-agent-defi-consultant/agent/node_modules/@elizaos/cli/dist/index.js:3780:3)\n[2025-06-24 15:24:48] ERROR: [INIT] Failed to run database migrations:\n    message: \"(Error) Database connection failed: Aborted(). Build with -sASSERTIONS for more info.\"\n    stack: [\n      \"Error: Database connection failed: Aborted(). Build with -sASSERTIONS for more info.\",\n      \"at runPluginMigrations (file:///Users/yehiatarek/Documents/projects/ai%20agents/ai-agent-defi-consultant/agent/node_modules/@elizaos/plugin-sql/dist/index.js:4081:11)\",\n      \"at async DatabaseMigrationService.runAllPluginMigrations (file:///Users/yehiatarek/Documents/projects/ai%20agents/ai-agent-defi-consultant/agent/node_modules/@elizaos/plugin-sql/dist/index.js:4182:7)\",\n      \"at async AgentServer.initialize (file:///Users/yehiatarek/Documents/projects/ai%20agents/ai-agent-defi-consultant/agent/node_modules/@elizaos/server/dist/index.js:5613:9)\",\n      \"at async startAgents (file:///Users/yehiatarek/Documents/projects/ai%20agents/ai-agent-defi-consultant/agent/node_modules/@elizaos/cli/dist/index.js:3062:3)\",\n      \"at async Command.<anonymous> (file:///Users/yehiatarek/Documents/projects/ai%20agents/ai-agent-defi-consultant/agent/node_modules/@elizaos/cli/dist/index.js:3147:5)\",\n      \"at async Command.parseAsync (/Users/yehiatarek/Documents/projects/ai agents/ai-agent-defi-consultant/agent/node_modules/commander/lib/command.js:1123:5)\",\n      \"at async main (file:///Users/yehiatarek/Documents/projects/ai%20agents/ai-agent-defi-consultant/agent/node_modules/@elizaos/cli/dist/index.js:3780:3)\"\n    ]\n[2025-06-24 15:24:48] ERROR: Failed to initialize AgentServer (async operations):\n    message: \"(Error) Database migration failed: Database connection failed: Aborted(). Build with -sASSERTIONS for more info.\"\n    stack: [\n      \"Error: Database migration failed: Database connection failed: Aborted(). Build with -sASSERTIONS for more info.\",\n      \"at AgentServer.initialize (file:///Users/yehiatarek/Documents/projects/ai%20agents/ai-agent-defi-consultant/agent/node_modules/@elizaos/server/dist/index.js:5617:15)\",\n      \"at async startAgents (file:///Users/yehiatarek/Documents/projects/ai%20agents/ai-agent-defi-consultant/agent/node_modules/@elizaos/cli/dist/index.js:3062:3)\",\n      \"at async Command.<anonymous> (file:///Users/yehiatarek/Documents/projects/ai%20agents/ai-agent-defi-consultant/agent/node_modules/@elizaos/cli/dist/index.js:3147:5)\",\n      \"at async Command.parseAsync (/Users/yehiatarek/Documents/projects/ai agents/ai-agent-defi-consultant/agent/node_modules/commander/lib/command.js:1123:5)\",\n      \"at async main (file:///Users/yehiatarek/Documents/projects/ai%20agents/ai-agent-defi-consultant/agent/node_modules/@elizaos/cli/dist/index.js:3780:3)\"\n    ]\n[2025-06-24 15:24:48] ERROR: An error occurred:\n    message: \"(Error) Database migration failed: Database connection failed: Aborted(). Build with -sASSERTIONS for more info.\"\n    stack: [\n      \"Error: Database migration failed: Database connection failed: Aborted(). Build with -sASSERTIONS for more info.\",\n      \"at AgentServer.initialize (file:///Users/yehiatarek/Documents/projects/ai%20agents/ai-agent-defi-consultant/agent/node_modules/@elizaos/server/dist/index.js:5617:15)\",\n      \"at async startAgents (file:///Users/yehiatarek/Documents/projects/ai%20agents/ai-agent-defi-consultant/agent/node_modules/@elizaos/cli/dist/index.js:3062:3)\",\n      \"at async Command.<anonymous> (file:///Users/yehiatarek/Documents/projects/ai%20agents/ai-agent-defi-consultant/agent/node_modules/@elizaos/cli/dist/index.js:3147:5)\",\n      \"at async Command.parseAsync (/Users/yehiatarek/Documents/projects/ai agents/ai-agent-defi-consultant/agent/node_modules/commander/lib/command.js:1123:5)\",\n      \"at async main (file:///Users/yehiatarek/Documents/projects/ai%20agents/ai-agent-defi-consultant/agent/node_modules/@elizaos/cli/dist/index.js:3780:3)\"\n    ]\n[2025-06-24 15:24:48] ERROR: Error details: Database migration failed: Database connection failed: Aborted(). Build with -sASSERTIONS for more info.\n[2025-06-24 15:24:48] ERROR: Stack trace: Error: Database migration failed: Database connection failed: Aborted(). Build with -sASSERTIONS for more info.\n    at AgentServer.initialize (file:///Users/yehiatarek/Documents/projects/ai%20agents/ai-agent-defi-consultant/agent/node_modules/@elizaos/server/dist/index.js:5617:15)\n    at async startAgents (file:///Users/yehiatarek/Documents/projects/ai%20agents/ai-agent-defi-consultant/agent/node_modules/@elizaos/cli/dist/index.js:3062:3)\n    at async Command.<anonymous> (file:///Users/yehiatarek/Documents/projects/ai%20agents/ai-agent-defi-consultant/agent/node_modules/@elizaos/cli/dist/index.js:3147:5)\n    at async Command.parseAsync (/Users/yehiatarek/Documents/projects/ai agents/ai-agent-defi-consultant/agent/node_modules/commander/lib/command.js:1123:5)\n    at async main (file:///Users/yehiatarek/Documents/projects/ai%20agents/ai-agent-defi-consultant/agent/node_modules/@elizaos/cli/dist/index.js:3780:3)\n```\n5. The plugin-evm integration is particularly problematic, with the agent consistently struggling to differentiate between executing actual on-chain transactions and merely simulating them\nThese issues severely impact our timeline for the Chainlink Chromium hackathon project.\n\n**To Reproduce**\n\n1. Create a custom plugin with defined actions (e.g., our smart-wallet-plugin with CREATE_BICONOMY_WALLET action)\n2. Attempt to trigger the action through the agent interface\n3. Observe that the system returns a generic AI response instead of executing the handler function. \n4. When errors occur, observe that the error messages lack context or actionable information\n5. Attempt to use the debugging tools and observe that they fail to provide useful information\n\n**Expected behavior**\n\n1. When an action is triggered, the corresponding handler function should execute reliably\n2. Error messages should provide clear context, including the specific issue, location, and potential resolution\n3. Debugging tools should function properly, allowing developers to trace execution flow\n4. Database connections should be reliable or provide clear error messages with resolution steps\n5. Documentation should accurately reflect the current API and provide troubleshooting guidance\n\n**Screenshots**\n\n![Image](https://github.com/user-attachments/assets/38ef9343-0280-4f09-8c55-adb474b02f9b)\n![Image](https://github.com/user-attachments/assets/dc2aa091-595f-4d37-b2f6-69d701c2d3c8)\n![Image](https://github.com/user-attachments/assets/03a06bd6-4c58-4da8-9b23-2b7f27b31fea)\n![Image](https://github.com/user-attachments/assets/fc025bc6-5f57-43c7-a1ac-c7ab9612420c)\n![Image](https://github.com/user-attachments/assets/d117bec6-5960-4c6d-9028-2210a0616bf1)\n![Image](https://github.com/user-attachments/assets/1dfbc39f-c6c1-46ba-9550-4dcddd0cff4d)\n\n**Additional context**\n\nWe upgraded from v0.0.11 (which had message loading issues) to v0.0.12, but continue to experience significant development challenges. The framework's instability is particularly problematic given our tight timeline for the Chainlink Chromium hackathon. The most frustrating aspect is the inconsistency between documentation examples and actual runtime behaviour, especially regarding action handling and plugin integration.\n\nConclusion: All I want is a way to make sure actions are getting triggered instead of the AI model replying to me with a simulation with 0 on-chain action\n",
      "createdAt": "2025-06-24T16:19:58Z",
      "closedAt": "2025-06-30T12:08:51Z",
      "state": "CLOSED",
      "commentCount": 1
    },
    {
      "id": "I_kwDOMT5cIs683q43",
      "title": "Issues setting up a project with desired provider and overall impression on the project",
      "author": "urosognjenovic",
      "number": 5249,
      "repository": "elizaos/eliza",
      "body": "I've been struggling to setup a project from scratch for over 10 days now so I've decided to open an issue here. \n\nI've tried using all the possible options:\n- `eliza-starter` repo: First I tried with this one. After many unsuccessful attempts, I managed to get this up and running. However, the repo is now archived so I've decided to find another option. There should at least be a notice somewhere in the README explaining why the repo was archived as it is a bit confusing to come back to the repo you used yesterday and find it archived.\n- `eliza` (this) repo. It references an old video from a few months ago that doesn't help very much as a lot of stuff has changed in the meantime. I tried following the README:\n```\ngit clone https://github.com/elizaos/eliza.git\ngit checkout $(git describe --tags --abbrev=0)\ncp .env.example .env\n```\nThen I set the `GOOGLE_GENERATIVE_AI_API_KEY` variable in `.env`. This is just my best guess for the variable name using the `eliza-starter` repo as there's no word on how to set up an agent using Gemini in the `.env` itself or in the docs.\nThen I execute the rest of the commands:\n```\nbun install\nbun run build\nbun start\n```\nHere the agent starts and I navigate to http://localhost:3000 to try and text my agent. However, the error is `A context size of 8192 is too large for the available VRAM` as the model is started locally and my Gemini API key is ignored. \n- CLI tool: I create a new project by running `elizaos create my-agent` and choose the standard options, including the OpenAI LLM. Long story short, this one fails me as well because I can't in God's name figure out how to start the model using my desired provider or change it afterwards.\n\nTL;DR There's a lack of synchronisation between the official documentation, this repo, and the CLI tool. It is very difficult to figure out where to look up the issues you have and find an answer to them.\n\nThis is just a fraction of the issues I've had along the way, all while just trying to set up a simple project.",
      "createdAt": "2025-06-23T16:04:12Z",
      "closedAt": "2025-06-30T12:09:14Z",
      "state": "CLOSED",
      "commentCount": 0
    },
    {
      "id": "I_kwDOMT5cIs6-FCVN",
      "title": "TESTING: test all CLI commands against the CLI Docs",
      "author": "linear",
      "number": 5325,
      "repository": "elizaos/eliza",
      "body": "",
      "createdAt": "2025-06-30T15:45:55Z",
      "closedAt": null,
      "state": "OPEN",
      "commentCount": 0
    },
    {
      "id": "I_kwDOMT5cIs6-A9yn",
      "title": "test",
      "author": "borisudovicic",
      "number": 5316,
      "repository": "elizaos/eliza",
      "body": "**Describe the bug**\n\n<!-- A clear and concise description of what the bug is. -->\n\n**To Reproduce**\n\n<!-- Steps to reproduce the behavior. -->\n\n**Expected behavior**\n\n<!-- A clear and concise description of what you expected to happen. -->\n\n**Screenshots**\n\n<!-- If applicable, add screenshots to help explain your problem. -->\n\n**Additional context**\n\n<!-- Add any other context about the problem here. -->\n",
      "createdAt": "2025-06-30T10:13:11Z",
      "closedAt": "2025-06-30T10:38:52Z",
      "state": "CLOSED",
      "commentCount": 0
    },
    {
      "id": "I_kwDOMT5cIs6-A0H1",
      "title": "Test",
      "author": "borisudovicic",
      "number": 5315,
      "repository": "elizaos/eliza",
      "body": "**Describe the bug**\n\n<!-- A clear and concise description of what the bug is. -->\n\n**To Reproduce**\n\n<!-- Steps to reproduce the behavior. -->\n\n**Expected behavior**\n\n<!-- A clear and concise description of what you expected to happen. -->\n\n**Screenshots**\n\n<!-- If applicable, add screenshots to help explain your problem. -->\n\n**Additional context**\n\n<!-- Add any other context about the problem here. -->\n",
      "createdAt": "2025-06-30T09:59:30Z",
      "closedAt": "2025-06-30T10:05:54Z",
      "state": "CLOSED",
      "commentCount": 0
    }
  ],
  "topPRs": [
    {
      "id": "PR_kwDOMT5cIs6bGryt",
      "title": "Fix/summarized tweet interval issue",
      "author": "crypto-cooker",
      "number": 5177,
      "body": "This PR fixed Milli bot issue that is not posting summarized tweet in time interval that is set in .env.\r\n\r\nhttps://github.com/orgs/abstractoperators/projects/4/views/1?pane=issue&itemId=115868311&issue=abstractoperators%7Caiden%7C166",
      "repository": "elizaos/eliza",
      "createdAt": "2025-06-18T15:55:17Z",
      "mergedAt": null,
      "additions": 16855,
      "deletions": 80117
    },
    {
      "id": "PR_kwDOMT5cIs6cw3Tz",
      "title": "🔧 Fix Windows CI Issues - Comprehensive Solution",
      "author": "wtfsayo",
      "number": 5332,
      "body": "# 🔧 Fix Windows CI Issues - Comprehensive Solution\n\n## 📋 Summary\n\nThis PR implements a comprehensive solution to resolve the long-standing Windows CI failures that have been affecting the ElizaOS project. The fixes address root causes including Bun installation issues, process cleanup problems, memory constraints, and flaky test execution.\n\n## 🎯 Problems Solved\n\n### 1. **Bun Installation & Reliability Issues**\n- ❌ Bun installation failures on Windows runners\n- ❌ PATH resolution problems preventing Bun execution\n- ❌ Cache corruption causing installation loops\n- ❌ File permission issues blocking Bun execution\n\n### 2. **Process Management Problems**\n- ❌ Hanging test processes causing CI timeouts\n- ❌ Port conflicts from previous test runs\n- ❌ Resource leaks affecting subsequent tests\n- ❌ Inadequate process cleanup on Windows\n\n### 3. **Test Execution Issues**\n- ❌ Flaky tests due to resource contention\n- ❌ Memory constraints causing OOM errors\n- ❌ Poor error handling and diagnostics\n- ❌ No retry logic for transient failures\n\n## ✅ Solutions Implemented\n\n### 🔧 **New Windows-Specific Scripts**\n\n#### 1. `packages/cli/tests/fix-bun-windows.ps1`\n**Comprehensive Bun Installation Fixer**\n- Automatically detects and repairs Bun installation issues\n- Fixes PATH resolution problems\n- Clears corrupted cache files\n- Repairs file permissions\n- Provides fallback reinstallation\n- Includes detailed diagnostics\n\n#### 2. `packages/cli/tests/cleanup-processes.ps1`\n**Advanced Process Cleanup**\n- Terminates hanging processes by pattern matching\n- Cleans up port conflicts using `Get-NetTCPConnection`\n- Handles Eliza-specific process cleanup\n- Forces garbage collection\n- Safe error handling for all operations\n\n#### 3. `packages/cli/tests/windows-test-helper.ps1`\n**Robust Test Execution Framework**\n- Implements configurable retry logic (default: 2 attempts)\n- Provides timeout handling using PowerShell jobs\n- Pre and post-test environment verification\n- Comprehensive cleanup between attempts\n- Detailed logging and error reporting\n\n### 🚀 **Enhanced CI Workflow**\n\n#### Updated `.github/workflows/cli-tests.yml`\n- **Memory Optimization**: Increased Node.js heap to 6144MB for Windows\n- **Performance**: Added Windows Defender exclusions for faster file operations\n- **Environment Setup**: Optimized environment variables and caching\n- **Integration**: Seamlessly integrated all new helper scripts\n- **Monitoring**: Added verification steps for cleanup success\n\n## 📊 **Key Improvements**\n\n| **Area** | **Before** | **After** |\n|----------|------------|-----------|\n| **Bun Reliability** | Manual troubleshooting | Automatic detection & fixing |\n| **Process Cleanup** | Basic `pkill` commands | Native PowerShell process management |\n| **Test Execution** | Single attempt, no retry | 2 retries with proper cleanup |\n| **Memory Handling** | Default limits (often insufficient) | 6144MB + forced GC |\n| **Diagnostics** | Limited error info | Comprehensive logging & monitoring |\n| **Timeout Handling** | Fixed 15min timeout | 25min with job-based isolation |\n\n## 🔄 **Workflow Changes**\n\n### Before:\n```yaml\n- name: Run CLI TypeScript tests (Windows)\n  run: cross-env NODE_OPTIONS=\"--max-old-space-size=4096\" bun test tests/commands/\n```\n\n### After:\n```yaml\n- name: Configure Windows environment\n  # Windows Defender exclusions, memory optimization\n  \n- name: Fix and verify Bun installation\n  # Automatic Bun installation fixing\n  \n- name: Install dependencies (with retry logic)\n  # Retry logic for flaky installations\n  \n- name: Run CLI TypeScript tests (Windows - Enhanced)\n  # Advanced test execution with helper script\n  \n- name: Cleanup test processes (Windows - Enhanced)\n  # Comprehensive cleanup using dedicated script\n  \n- name: Verify Windows cleanup\n  # Verification of cleanup success\n```\n\n## 🧪 **Testing Strategy**\n\n### Manual Testing Commands:\n```powershell\n# Fix Bun installation\npowershell -ExecutionPolicy Bypass -File \"packages/cli/tests/fix-bun-windows.ps1\" -Verbose\n\n# Clean up processes\npowershell -ExecutionPolicy Bypass -File \"packages/cli/tests/cleanup-processes.ps1\"\n\n# Run tests with retry\npowershell -ExecutionPolicy Bypass -File \"packages/cli/tests/windows-test-helper.ps1\" -TestCommand \"bun test tests/commands/\" -MaxRetries 3\n```\n\n## 📈 **Expected Impact**\n\n### Immediate Benefits:\n- **🎯 Reduced CI failure rate** by addressing root causes\n- **⚡ Faster issue resolution** through automatic fixing\n- **🔍 Better debugging** with comprehensive diagnostics\n- **🔄 Consistent environment** through standardized cleanup\n- **🛠️ Maintainable solution** with modular, updateable scripts\n\n### Long-term Benefits:\n- **📊 Improved developer productivity** - Less time debugging CI\n- **🚀 Faster iteration cycles** - More reliable test execution\n- **💰 Reduced CI costs** - Fewer failed runs and retries\n- **🔧 Easier maintenance** - Clear separation of concerns\n\n## 🔍 **Files Changed**\n\n### New Files:\n- `packages/cli/tests/cleanup-processes.ps1` - Windows process cleanup\n- `packages/cli/tests/windows-test-helper.ps1` - Test execution framework\n- `packages/cli/tests/fix-bun-windows.ps1` - Bun installation fixer\n- `WINDOWS_CI_FIXES.md` - Comprehensive documentation\n\n### Modified Files:\n- `.github/workflows/cli-tests.yml` - Enhanced Windows CI workflow\n\n## ⚙️ **Configuration Options**\n\n### Windows Test Helper:\n- `TestCommand` - Command to execute\n- `MaxRetries` - Number of retry attempts (default: 2)\n- `TimeoutMinutes` - Timeout per attempt (default: 15)\n\n### Bun Fixer:\n- `Force` - Force reinstallation\n- `Verbose` - Enable detailed logging\n\n## 🔒 **Safety & Compatibility**\n\n- **✅ Backward Compatible**: Doesn't affect Linux/macOS workflows\n- **✅ Safe Error Handling**: Graceful degradation on failures\n- **✅ Non-Breaking**: Existing functionality preserved\n- **✅ Isolated**: Windows-specific changes only\n\n## 🚨 **Breaking Changes**\n\n**None** - This PR only enhances Windows CI reliability without changing any APIs or interfaces.\n\n## 📝 **Additional Notes**\n\n### Why PowerShell Scripts?\n- **Native Windows support** - Better process and port management\n- **Rich error handling** - Comprehensive try/catch blocks\n- **Built-in cmdlets** - `Get-NetTCPConnection`, `Get-Process`, etc.\n- **Job isolation** - Timeout handling with PowerShell jobs\n\n### Monitoring & Maintenance:\n- Scripts include detailed logging for troubleshooting\n- Diagnostic information collected on failures\n- Modular design allows individual component updates\n- Performance metrics can be extracted from logs\n\n## 🔮 **Future Enhancements**\n\n1. **Adaptive timeouts** based on system performance\n2. **Health checks** before test execution\n3. **Metrics collection** for optimization\n4. **Integration testing** across Windows versions\n\n---\n\n**This comprehensive solution addresses the \"too long\" Windows CI issues by tackling fundamental problems rather than applying band-aid fixes. The modular, well-documented approach ensures maintainability and allows for future improvements.**",
      "repository": "elizaos/eliza",
      "createdAt": "2025-06-30T20:29:42Z",
      "mergedAt": null,
      "additions": 1009,
      "deletions": 32
    },
    {
      "id": "PR_kwDOMT5cIs6cuVHG",
      "title": "feat: clack env prompts cli, major refactor of cli envs",
      "author": "ChristopherTrimboli",
      "number": 5326,
      "body": "## 🔧 CLI Environment System Improvements\r\n\r\nThis PR significantly improves the CLI environment variable system, making it more maintainable, user-friendly, and feature-rich.\r\n\r\n### 🎯 Summary of Changes\r\n\r\n#### 1. **Enhanced Plugin Environment Variable Prompts**\r\n- Migrated to `@clack/prompts` for better UI with progress indicators, styled prompts, and clearer visual separation\r\n- Added ability to easily skip optional environment variables (press Enter to skip)\r\n- Improved progress tracking with `[1/N]` indicators\r\n- Separated required and optional variables into distinct sections\r\n- Fixed the `placeholder.slice is not a function` error by ensuring all placeholder values are strings\r\n\r\n#### 2. **Removed Hardcoded Environment Configurations**\r\n- **Before**: CLI maintained hardcoded configs for plugins (openai, discord, twitter, etc.) in `env-prompt.ts`\r\n- **After**: System now relies purely on `agentConfig.pluginParameters` from each plugin's `package.json`\r\n- Deleted ~600 lines of hardcoded configuration\r\n- Makes the system more flexible - plugin authors can define their own env vars without CLI changes\r\n\r\n#### 3. **Extended Type Support for Environment Variables**\r\nAdded support for multiple data types beyond just strings:\r\n- **Boolean**: Uses `clack.confirm()` for yes/no prompts\r\n- **Number**: Validates numeric input\r\n- **Array**: Accepts comma-separated values, automatically trims whitespace\r\n- **JSON Object**: Validates JSON syntax, minifies for storage\r\n\r\nExample plugin configuration:\r\n```json\r\n{\r\n  \"agentConfig\": {\r\n    \"pluginParameters\": {\r\n      \"PORT\": { \"type\": \"number\", \"default\": 3000 },\r\n      \"ENABLE_DEBUG\": { \"type\": \"boolean\", \"default\": false },\r\n      \"ALLOWED_HOSTS\": { \"type\": \"array\", \"default\": \"localhost,example.com\" },\r\n      \"CONFIG\": { \"type\": \"json\", \"default\": \"{\\\"timeout\\\": 5000}\" }\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n#### 4. **Consolidated Environment File Handling**\r\nCreated a unified `EnvFileService` that eliminates code duplication:\r\n- Single source of truth for all .env file operations\r\n- Supports comment preservation\r\n- Automatically syncs with `process.env`\r\n- Provides backup functionality\r\n- Validates .env file format\r\n\r\nConsolidated three separate implementations:\r\n- `utils/env-prompt.ts` (async global paths)\r\n- `commands/plugins/utils/env-vars.ts` (sync plugin-specific)\r\n- `commands/env/utils/file-operations.ts` (async with dotenv)\r\n\r\n#### 5. **Process.env Synchronization**\r\n- Fixed issue where newly configured environment variables weren't available in the current session\r\n- Now all env var updates immediately sync to `process.env`\r\n\r\n### 📁 Files Changed\r\n\r\n**Modified:**\r\n- `/packages/cli/src/utils/env-prompt.ts` - Simplified to use unified service\r\n- `/packages/cli/src/commands/plugins/utils/env-vars.ts` - Added type support, uses unified service\r\n- `/packages/cli/src/commands/env/utils/file-operations.ts` - Refactored to use unified service\r\n- `/packages/cli/src/utils/config-manager.ts` - Removed hardcoded validation functions\r\n- `/packages/cli/src/utils/index.ts` - Updated exports\r\n- `/packages/cli/src/commands/test/actions/e2e-tests.ts` - Removed promptForEnvVars usage\r\n- `/packages/cli/tests/unit/commands/test/e2e-tests.test.ts` - Updated mocks\r\n\r\n**Added:**\r\n- `/packages/cli/src/services/env-file.service.ts` - New unified environment file service\r\n- `/packages/cli/src/services/index.ts` - Service exports\r\n- `/packages/cli/src/examples/env-types-example.ts` - Documentation for plugin authors\r\n\r\n**Verified:**\r\n- All template `.gitignore` files already include comprehensive `.env` protection\r\n\r\n### ✅ Benefits\r\n\r\n1. **Better Developer Experience**: Type-specific prompts, easier to skip optional vars, clearer UI\r\n2. **More Maintainable**: Single service for env operations, no hardcoded configs\r\n3. **More Flexible**: Plugin authors can define any env vars without CLI changes\r\n4. **More Secure**: Immediate process.env sync, validated inputs, .env in gitignore\r\n5. **More Powerful**: Support for complex data types (arrays, JSON objects)\r\n\r\n### 🧪 Testing Notes\r\n\r\n- Existing unit tests updated to remove references to deleted functions\r\n- Manual testing recommended with various plugins to verify env var prompting\r\n- Type validation tested for all new types (boolean, number, array, json)\r\n\r\nThis refactoring makes the ElizaOS CLI environment system more robust and user-friendly while reducing maintenance burden and enabling richer plugin configurations.\r\n\r\nhttps://github.com/user-attachments/assets/14d48c62-20a6-4367-8314-5e0ac1f0946b\r\n",
      "repository": "elizaos/eliza",
      "createdAt": "2025-06-30T15:49:30Z",
      "mergedAt": "2025-07-01T09:14:54Z",
      "additions": 846,
      "deletions": 708
    },
    {
      "id": "PR_kwDOMT5cIs6cs5WF",
      "title": "fix: cli create command directory display and cleanup on interruption",
      "author": "yungalgo",
      "number": 5321,
      "body": "# Fix CLI create command directory display and cleanup on interruption\r\n\r\n## Problem\r\n\r\nTwo minor bugs with the `elizaos create` command:\r\n\r\n1. **Confusing directory display**: When creating a project/plugin, the confirmation prompt showed `\"Create plugin 'testing' in plugin-testing?\"` instead of the actual directory name (e.g., `\"Create 'plugin-testing' in Desktop?\"`)\r\n\r\n2. **Abandoned directories on Ctrl-C**: Pressing Ctrl-C during `bun install` during a plugin or project installation left partially created directories behind, requiring manual cleanup\r\n\r\n## Solution\r\n\r\n1. **Directory display**: Added `getDisplayDirectory()` helper that gives the current directory name and simplifies absolute paths to just the directory name\r\n\r\n2. **Cleanup on interruption**: Implemented `withCleanupOnInterrupt()` wrapper that:\r\n   - Registers signal handlers (SIGINT/SIGTERM) before creating directories\r\n   - Tracks directory creation state to avoid removing pre-existing directories\r\n   - Automatically removes partially created directories on interruption\r\n   - Shows red-colored cleanup messages for visibility\r\n\r\n## Details\r\n\r\n### Implementation\r\n- Signal handlers are registered at the create function level, ensuring cleanup even when child processes (like `bun install`) receive signals directly\r\n- Handlers are properly removed on success to prevent memory leaks\r\n- Simplified `installDependencies` and `buildProject` functions since cleanup is now handled at a higher level\r\n\r\n### Files Changed\r\n- `src/commands/create/actions/creators.ts` - Added cleanup wrapper and updated all create functions\r\n- `src/commands/create/actions/setup.ts` - Simplified after moving cleanup logic up\r\n- `src/utils/helpers.ts` - Added `getDisplayDirectory()` helper\r\n- `tests/commands/create.test.ts` - Added test for cleanup behavior\r\n\r\n### Testing\r\nRun the full test suite:\r\n```bash\r\nbun test tests/commands/create.test.ts\r\n```\r\n\r\nManual test:\r\n```bash\r\nbun run dist/index.js create test-plugin --type plugin\r\n# Press Ctrl-C during \"Installing dependencies...\"\r\n# Directory should be cleaned up automatically\r\n``` \n\n<!-- This is an auto-generated comment: release notes by coderabbit.ai -->\n\n## Summary by CodeRabbit\n\n* **New Features**\n  * Improved project creation process to automatically clean up incomplete directories if interrupted or if an error occurs.\n  * Enhanced user prompts to display more user-friendly directory names.\n\n* **Bug Fixes**\n  * Prevents leftover incomplete directories when project creation is interrupted or fails.\n\n* **Tests**\n  * Added tests to verify directory cleanup when project creation is interrupted (e.g., via Ctrl-C).\n\n<!-- end of auto-generated comment: release notes by coderabbit.ai -->",
      "repository": "elizaos/eliza",
      "createdAt": "2025-06-30T13:51:00Z",
      "mergedAt": "2025-07-01T08:37:39Z",
      "additions": 279,
      "deletions": 59
    },
    {
      "id": "PR_kwDOMT5cIs6cwBez",
      "title": "fix: Ubuntu CLI test parallelization issues",
      "author": "wtfsayo",
      "number": 5331,
      "body": "## Problem\nUbuntu CLI CI tests were failing due to parallelization issues causing:\n- Port conflicts between concurrent tests\n- Race conditions during process cleanup\n- Inconsistent test execution timing\n\n## Solution\nThis PR implements several fixes specifically targeting Ubuntu CI stability:\n\n### 1. Sequential Test Execution\n- Added `--no-parallelism` flag for Ubuntu CI to prevent concurrent test execution\n- Increased timeout from 15 to 20 minutes to accommodate sequential execution\n\n### 2. Dynamic Port Allocation \n- Created `PortAllocator` class to manage unique port assignment per test\n- Prevents port conflicts that were causing test failures\n- Added proper port cleanup and release mechanisms\n\n### 3. Enhanced Process Cleanup\n- Improved cleanup script with escalating termination signals (TERM → KILL)\n- Added verification steps to ensure complete cleanup\n- Enhanced port-specific cleanup with retry logic\n\n### 4. Ubuntu-Specific Timeouts & Delays\n- Added conservative timeouts for Ubuntu CI environment\n- Implemented strategic sleep delays between test phases\n- Increased retry counts and wait times for better stability\n\n### 5. Improved Test Synchronization\n- Added proper delays between test cleanup and startup\n- Enhanced process manager with better termination handling\n- Added verification for complete resource cleanup\n\n## Testing\nThe changes are designed to maintain performance on macOS/Windows while fixing Ubuntu-specific issues:\n- Ubuntu CI: Sequential execution with longer timeouts\n- Other platforms: Existing parallel execution preserved\n- All changes wrapped in platform/environment detection\n\n## Files Changed\n- `.github/workflows/cli-tests.yml` - Ubuntu CI configuration  \n- `bunfig.toml` - Test execution settings\n- `packages/cli/tests/cleanup-processes.sh` - Enhanced cleanup\n- `packages/cli/tests/port-allocator.ts` - New port management\n- `packages/cli/tests/test-timeouts.ts` - Ubuntu-specific timeouts\n- `packages/cli/tests/commands/test-utils.ts` - Improved utilities\n- `packages/cli/tests/commands/start.test.ts` - Updated test implementation\n\nFixes parallelization-related test failures on Ubuntu CI.",
      "repository": "elizaos/eliza",
      "createdAt": "2025-06-30T18:48:28Z",
      "mergedAt": null,
      "additions": 269,
      "deletions": 115
    }
  ],
  "codeChanges": {
    "additions": 544,
    "deletions": 72,
    "files": 27,
    "commitCount": 86
  },
  "completedItems": [
    {
      "title": "fix: issue with load from dirname",
      "prNumber": 5328,
      "type": "bugfix",
      "body": "Fixes this issue: \r\n\r\n![image](https://github.com/user-attachments/assets/79129dd7-a5f5-486e-a47e-702a8e13051b)\r\n"
    },
    {
      "title": "fix(plugin-sql): Fix integration test infinite loops by using isolated databases",
      "prNumber": 5327,
      "type": "bugfix",
      "body": "## Problem\n\nThe plugin-sql integration tests were failing in GitHub Actions with infinite loops and timeouts (exit code 134). The specific failing test was in the memory integration suite, causing the CI workflow to hang indefinitely.\n\n**Gi"
    },
    {
      "title": "feat: Set default avatar for Eliza",
      "prNumber": 5324,
      "type": "feature",
      "body": "This PR sets the default avatar for the Eliza character, as requested by @borisudovicic.\r\n\r\nresult:\r\n\r\n<img width=\"840\" alt=\"Screenshot 2025-06-30 at 11 27 48 PM\" src=\"https://github.com/user-attachments/assets/5be8c382-98c0-43f0-a070-49bfc"
    },
    {
      "title": "fix: avatar",
      "prNumber": 5323,
      "type": "bugfix",
      "body": "This PR includes the following improvements:\r\n\r\n1. Increase avatar upload threshold to 1024\r\nPer request by @borisudovicic, the allowed avatar upload size limit is now increased to 1024 to support higher-quality avatars.\r\n\r\n2. Fix avatar im"
    },
    {
      "title": "feat(cli): show 'monorepo' version for local dist builds",
      "prNumber": 5322,
      "type": "feature",
      "body": "## Summary\n- Added logic to detect if CLI is running from node_modules\n- Shows 'monorepo' when running from local dist (not properly installed)\n- Shows actual version only when globally installed via bun/npm\n\n## Changes\n- Added `isRunningFr"
    },
    {
      "title": "feat(cli): display 'monorepo' version when running from monorepo context",
      "prNumber": 5320,
      "type": "feature",
      "body": "## Summary\n- Modified CLI to display \"Version: monorepo\" when running from within the ElizaOS monorepo\n- Skip npm version update checks when in monorepo context  \n- Added comprehensive unit and integration tests for version display function"
    },
    {
      "title": "docs: add elizaos test command documentation",
      "prNumber": 5319,
      "type": "feature",
      "body": "## Summary\nAdded comprehensive documentation for the `elizaos test` command to CLAUDE.md\n\n## Changes\n- Added new section \"ElizaOS Test Command\" with usage examples\n- Documented all available options and flags\n- Explained the two test types:"
    },
    {
      "title": "fix: allow elizaos test command to work outside monorepo",
      "prNumber": 5318,
      "type": "bugfix",
      "body": "## Summary\n- Fixed `elizaos test` command failing when run outside the monorepo\n- The command now works in both monorepo and standalone project contexts\n\n## Changes\n- Updated monorepo root detection in `e2e-tests.ts` to gracefully handle st"
    },
    {
      "title": "chore: fix some minor issues in the comments",
      "prNumber": 5317,
      "type": "bugfix",
      "body": "<!-- Use this template by filling in information and copying and pasting relevant items out of the HTML comments. -->\r\n\r\n# Relates to\r\n\r\n<!-- LINK TO ISSUE OR TICKET -->\r\n\r\n<!-- This risks section must be filled out before the final review "
    },
    {
      "title": "fix: Clarify UX by removing misleading avatar upload text",
      "prNumber": 5314,
      "type": "bugfix",
      "body": "This PR removes the avatar upload message shown after uploading an avatar, which previously stated that the avatar was updated even though the user still needed to click “Save Changes” to apply it.\r\n\r\nrelated: https://linear.app/eliza-labs/"
    },
    {
      "title": "feat: mark bootstrap plugin as essential",
      "prNumber": 5313,
      "type": "feature",
      "body": "This PR marks @elizaos/plugin-bootstrap as an essential plugin within the PluginsPanel\r\n\r\nrelated: https://linear.app/eliza-labs/issue/ELIZA-504/bootstrap-needs-to-be-marked-blue-in-gui"
    },
    {
      "title": "fix: env settings scroll",
      "prNumber": 5312,
      "type": "bugfix",
      "body": "This PR fixes an issue where the environment settings page would get stuck and prevent scrolling.\r\n\r\nRelated: [ELIZA-499](https://linear.app/eliza-labs/issue/ELIZA-499/cant-scroll-down-in-gui)"
    }
  ],
  "topContributors": [
    {
      "username": "wtfsayo",
      "avatarUrl": "https://avatars.githubusercontent.com/u/82053242?u=98209a1f10456f42d4d2fa71db4d5bf4a672cbc3&v=4",
      "totalScore": 315.94002689938685,
      "prScore": 297.50202689938686,
      "issueScore": 0,
      "reviewScore": 18,
      "commentScore": 0.43799999999999994,
      "summary": null
    },
    {
      "username": "tcm390",
      "avatarUrl": "https://avatars.githubusercontent.com/u/60634884?u=c6c41679b8322eaa0c81f72e0b4ed95e80f0ac16&v=4",
      "totalScore": 119.45166533154648,
      "prScore": 114.45166533154648,
      "issueScore": 0,
      "reviewScore": 5,
      "commentScore": 0,
      "summary": null
    },
    {
      "username": "ChristopherTrimboli",
      "avatarUrl": "https://avatars.githubusercontent.com/u/27584221?u=0d816ce1dcdea8f925aba18bb710153d4a87a719&v=4",
      "totalScore": 80.30460952648812,
      "prScore": 75.30460952648812,
      "issueScore": 0,
      "reviewScore": 5,
      "commentScore": 0,
      "summary": null
    },
    {
      "username": "0xbbjoker",
      "avatarUrl": "https://avatars.githubusercontent.com/u/54844437?u=90fe1762420de6ad493a1c1582f1f70c0d87d8e2&v=4",
      "totalScore": 44.93182727543717,
      "prScore": 34.93182727543717,
      "issueScore": 0,
      "reviewScore": 10,
      "commentScore": 0,
      "summary": null
    },
    {
      "username": "mountdisk",
      "avatarUrl": "https://avatars.githubusercontent.com/u/169329268?u=56c8e0bec21bdd4536af2760513450d4c20aee29&v=4",
      "totalScore": 31.83679054559674,
      "prScore": 31.83679054559674,
      "issueScore": 0,
      "reviewScore": 0,
      "commentScore": 0,
      "summary": null
    },
    {
      "username": "yungalgo",
      "avatarUrl": "https://avatars.githubusercontent.com/u/113615973?u=92e0f29f7e2fbb8ce46ed13c51f692ca803de02d&v=4",
      "totalScore": 31.44397400792312,
      "prScore": 31.24397400792312,
      "issueScore": 0,
      "reviewScore": 0,
      "commentScore": 0.2,
      "summary": null
    },
    {
      "username": "borisudovicic",
      "avatarUrl": "https://avatars.githubusercontent.com/u/31806472?u=27713fbe603baae91ef519990facbacd6c23e93d&v=4",
      "totalScore": 8,
      "prScore": 0,
      "issueScore": 8,
      "reviewScore": 0,
      "commentScore": 0,
      "summary": null
    },
    {
      "username": "bealers",
      "avatarUrl": "https://avatars.githubusercontent.com/u/6403055?u=8c40778251e25b92cdee727056415b6c0d1bcdc5&v=4",
      "totalScore": 4.7,
      "prScore": 0,
      "issueScore": 0,
      "reviewScore": 4.5,
      "commentScore": 0.2,
      "summary": null
    },
    {
      "username": "github-advanced-security",
      "avatarUrl": "https://avatars.githubusercontent.com/in/57789?v=4",
      "totalScore": 4.5,
      "prScore": 0,
      "issueScore": 0,
      "reviewScore": 4.5,
      "commentScore": 0,
      "summary": null
    },
    {
      "username": "linear",
      "avatarUrl": "https://avatars.githubusercontent.com/in/20150?v=4",
      "totalScore": 2,
      "prScore": 0,
      "issueScore": 2,
      "reviewScore": 0,
      "commentScore": 0,
      "summary": null
    }
  ],
  "newPRs": 20,
  "mergedPRs": 12,
  "newIssues": 3,
  "closedIssues": 4,
  "activeContributors": 12
}